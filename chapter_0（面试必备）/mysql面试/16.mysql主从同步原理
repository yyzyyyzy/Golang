主从同步：
主服务器：接收客户端的访问连接
从服务器：自动同步数据库数据

主从同步模式 ：
一主一从
一主多从
链式复制：主——>从——>从的从
互为主从：主从<——>主从

主从同步复制模式：
异步复制模式：主库执行完事务（sql命令），立刻将结果返回给客户端，不关心从库有没有接收请求并复制
客户端体验好，数据不稳定
全同步复制模式：主库执行完事务，从库也执行了此事务才将结果返回给客户端
客户端体验差，时间太长
半同步复制模式：主库执行完事务，至少一个从库执行了此事务才将结果返回给客户端
客户端体验好，且稳定

原理：服务器读取主服务器的binlog，然后根据binlog的记录来更新数据库
原理详解：
主库生成一个线程binlog dump,将改变记录到二进制日志(bin log)中
从库生成两个线程，一个I/O线程，一个SQL线程；
I/O线程去请求主库的binlog，拷贝sql命令，并将得到的binlog日志写到本机的中继日志文件中；
SQL线程，会读取本机中继文件中的日志，并解析成具体操作，来实现主从的操作一致，而最终数据一致；


主从同步高可用MHA
MHA是实现MySQL高可用的一种成熟解决方案，可以在主从故障时自动完成主从切换，切换速度在30-60秒，
并且可以最大程度的去保持数据一致性。MHA由管理节点（Manager）和数据节点（Node）组成，
一套MHA Manager可以管理多套MySQL集群。
当Manager发现MySQL Master出现故障时自动将一个拥有最新数据的Slave提升为Master，
并让另外的Slave重新指向到新的Master上来。除此之外MHA还可以在线进行主从切换，大概2秒内就可以完成。



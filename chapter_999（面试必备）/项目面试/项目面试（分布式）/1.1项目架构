分布式模型分为：
1.集中式模型：所有服务依赖于中心的服务
优点：方便集中管理日志，负载均衡
缺点：单点故障，中心服务会充当多种角色

2.点对点模型：
优点：没有单点故障，解耦程度高
缺点：服务难以被发现，负载均衡困难

3.消息队列
优点：消息易于扩展
缺点：消息难以持久化，会出现单点故障，配置相对困难


4.项目选用混合模型
服务注册，健康检查采用集中式模型，web服务采用点对点模式
优点：利于负载均衡，对服务失败防范更加健壮
缺点：架构更加复杂，hub作用范围难以界定



①创建web服务：
    1.日志服务：是一个web服务，用于接收web的Post请求，将post请求的内容写入日志
    2.用到context，分两种情况：1.http.server启动错误cancel
                            2.用户手动关闭，cancel

②创建注册服务
    1.被注册的服务一定是被并发访问的，需要加mutex锁，每增加一个注册服务就加一个锁，就是线程安全的了
    2.服务注册的代码主要也是接收post请求，其他请求可以屏蔽
    3.通过ctx.Done阻塞goroutine的信号，信号来了就打印注册服务结束

③注册web服务
④取消注册web服务